<script src="https://unpkg.com/shiki/dist/browser.js"></script>
<script>
(async () => {
  const highlighter = await shiki.getHighlighter({ theme: 'github-dark' });

  document.querySelectorAll('pre code[class^="language-"]').forEach(el => {
    const lang = el.className.replace('language-', '');
    const code = el.textContent;
    try {
      const html = highlighter.codeToHtml(code, { lang });
      el.parentElement.outerHTML = html;
    } catch (e) {
      console.warn("Shiki couldn't highlight:", lang, e);
    }
  });
})();
</script>